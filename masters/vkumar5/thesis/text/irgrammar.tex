In this appendix we present a grammar for the Tame IR.
We have listed all Tame IR nodes, together with the
parent class and the nodes they contain. An informal, but
more detailed, discussion can be found in \chapref{chap:TameIR}.
All Tame IR nodes either extend AST nodes, or other IR Nodes.

Note that all Tame IR nodes are effectively AST subtrees,
because they are subclasses of AST nodes. Users of the 
Tame IR should not modify IR Nodes, except the
TIRStatementList. They should also only use the accessor
methods provided by the Tame IR interfaces. The constructors
of the Tame IR nodes enforce the constraints of the Tame IR.

All Tame IR nodes implement the interface {\tt TIRNode}.
Additionally, all the statement nodes of the Tame IR
implement the interface {\tt TIRStmt}.




\section{Compound Structures}

\begin{footnotesize}

\begin{center}


%\vspace{-.7cm}
\begin{tabularx}{\textwidth}{|l|l|X|} \hline

\textbf{node} & \textbf{extends} & \textbf{contains} \\ \hline \hline

TIRFunction & Function & 
\begin{tabular}{l}
List\verb|<|Name\verb|>| outputParams,\\
String name,\\
List\verb|<|Name\verb|>| inputParams,\\
List\verb|<|HelpComment\verb|>| helpComments,\\
TIRStmtList stmts,\\
List\verb|<|TIRFunction\verb|>| nestedFunctions\\
\end{tabular} \\ \hline 
TIRStmtList & List\verb|<|Stmt\verb|>| &
\begin{tabular}{l}
 List\verb|<|TIRStmt\verb|>| statements
\end{tabular} \\ \hline \hline

TIRIfStmt & IfStmt &  
\begin{tabular}{l}
Name ConditionVar, \\TIRStmtList IfStmts,\\
TIRStmtList ElseStmts
\end{tabular} \\ \hline
TIRWhileStmt & WhileStmt &  
\begin{tabular}{l}
Name condition, TIRStmtList body
\end{tabular} \\ \hline
TIRForStmt & ForStmt &  
\begin{tabular}{l}
Name var, Name lower, (Name inc),\\
Name upper, TIRStmtList stmts
\end{tabular} \\ \hline

\end{tabularx}


\end{center}

\section{Non-Assignment Statements}

\begin{center}

\begin{tabularx}{\textwidth}{|l|l|X|} \hline
\textbf{node} & \textbf{extends} & \textbf{contains} \\ \hline \hline

TIRReturnStmt & ReturnStmt &  
\begin{tabular}{l}
\textminus
\end{tabular} \\ \hline
TIRBreakStmt & BreakStmt &  
\begin{tabular}{l}
\textminus
\end{tabular} \\ \hline
TIRContinueStmt & ContinueStmt &  
\begin{tabular}{l}
\textminus
\end{tabular} \\ \hline
\hline
TIRGlobalStmt & GlobalStmt &  
\begin{tabular}{l}
List\verb|<|Name\verb|>| names
\end{tabular} \\ \hline
TIRPersistentStmt & PersistentStmt &  
\begin{tabular}{l}
List\verb|<|Name\verb|>| names
\end{tabular} \\ \hline
TIRCommentStmt & EmptyStmt &  
\begin{tabular}{l}
\textminus
\end{tabular} \\ \hline
\end{tabularx}
\end{center}




\section{Assignment Statements}
\mynote{Changed function handle creation are now three nodes}
\vspace{-.3cm}
\begin{center}
\begin{footnotesize}
\begin{tabularx}{\textwidth}{|l|l|X|} \hline
\textbf{node} & \textbf{extends} & \textbf{contains} \\ \hline \hline
TIRAbstractAssignStmt & AssignStmt &  
\begin{tabular}{l}
\textminus
\end{tabular} \\ \hline \hline
TIRAbstractAssignFromVarStmt & TIRAbstractAssignStmt & 
\begin{tabular}{l}
Name rhs
\end{tabular} \\ \hline
TIRArraySetStmt & TIRAbstractAssignFromVarStmt &
\begin{tabular}{l}
Name arrayVar, \\
TIRCommaSeparatedList indices,\\ Name rhs 
\end{tabular} \\ \hline
TIRCellArraySetStmt & TIRAbstractAssignFromVarStmt &  
\begin{tabular}{l}
Name arrayVar, \\ TIRCommaSeparatedList indices, \\Name rhs
\end{tabular} \\ \hline
TIRDotSetStmt & TIRAbstractAssignFromVarStmt &
\begin{tabular}{l}
Name dotVar, Name field, Name rhs
\end{tabular} \\ \hline \hline
TIRAbstractAssignToListStmt & TIRAbstractAssignStmt &  
\begin{tabular}{l}
IRCommaSeparatedList targets
\end{tabular} \\ \hline
TIRArrayGetStmt & TIRAbstractAssignToListStmt &  
\begin{tabular}{l}
Name lhs, Name rhs, \\ TIRCommaSeparatedList indices
\end{tabular} \\ \hline
TIRCellArrayGetStmt & TIRAbstractAssignToListStmt &  
\begin{tabular}{l}
Name cellVar, \\ TIRCommaSeparatedList targets, \\
TIRCommaSeparatedList indices
\end{tabular} \\ \hline
TIRDotGetStmt & TIRAbstractAssignToListStmt &  
\begin{tabular}{l}
TIRCommaSeparatedList lhs,\\ Name dotVar, Name field
\end{tabular} \\ \hline
TIRCallStmt & TIRAbstractAssignToListStmt &  
\begin{tabular}{l}
Name function, \\ TIRCommaSeparatedList targets,\\
TIRCommaSeparatedList args
\end{tabular} \\ \hline \hline

TIRAbstractAssignToVarStmt & TIRAbstractAssignStmt &  
\begin{tabular}{l}
Name lhs
\end{tabular} \\ \hline
TIRAssignLiteralStmt & TIRAbstractAssignToVarStmt &  
\begin{tabular}{l}
Name lhs, LiteralExpr rhs
\end{tabular} \\ \hline

TIRCopyStmt & TIRAbstractAssignToVarStmt &  
\begin{tabular}{l}
Name lhs, Name rhs
\end{tabular} \\ \hline

\begin{tabular}{l}
TIRAbstract-\\
CreateFunctionHandleStmt 
\end{tabular}
& TIRAbstractAssignToVarStmt &  
\begin{tabular}{l}
Name lhs, Name function \\
\end{tabular} \\ \hline

TIRCreateFunctionReferenceStmt & 
\begin{tabular}{l}
TIRAbstract-\\
CreateFunctionHandleStmt 
\end{tabular}
&
\begin{tabular}{l}
Name lhs, Name function \\
\end{tabular} \\ \hline

TIRCreateLambdaStmt &
\begin{tabular}{l}
TIRAbstract-\\
CreateFunctionHandleStmt 
\end{tabular}
&
\begin{tabular}{l}
Name lhs, Name function \\
List\verb|<|Name\verb|>| lambdaParameters,\\
List\verb|<|Name\verb|>| enclosedVariables\\
\end{tabular} \\ \hline

\end{tabularx}
\end{footnotesize}


\end{center}








\section{Other Tame IR Nodes}
\vspace{-.3cm}
\begin{center}


%\vspace{-.7cm}
\begin{tabularx}{\textwidth}{|l|l|X|} \hline

\textbf{node} & \textbf{extends} & \textbf{contains} \\ \hline \hline

TIRCommaSeparatedList & List\verb|<|Expr\verb|>| & 
\begin{tabular}{l}
List\verb|<|Expr\verb|>| elements
\end{tabular} \\ \hline

\end{tabularx}


\end{center}


\end{footnotesize}
%\vspace{-.5cm}


